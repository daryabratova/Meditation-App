(this["webpackJsonpreact-redux-app"]=this["webpackJsonpreact-redux-app"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(0),a=c.n(i),s=c(6),r=c.n(s),o=c(2),u=c(13),j=Object(u.withNaming)({e:"__",m:"--"}),l=c(5),f=c(14),b=c(3),d=c(11),m=c(4),O=[{name:"2 minutes",value:120},{name:"5 minutes",value:300},{name:"10 minutes",value:600}],v=[{name:"rain",audio:c.p+"static/media/rain.e1d6cbce.mp3",video:c.p+"static/media/rain.cdc4e810.mp4",color:"#c6cdff",icon:c.p+"static/media/rain.a64d3829.svg"},{name:"sun",audio:c.p+"static/media/beach.d1908973.mp3",video:c.p+"static/media/beach.d6f3fec5.mp4",color:"#ffd180",icon:c.p+"static/media/sun.a774fd96.svg"}],h=function(e){return v.find((function(t){return t.name===e}))},p=Object(m.a)("set time interval"),x=Object(m.a)("toggle timer"),g=Object(m.a)("set time passed"),w=Object(m.a)("reset timer"),k=Object(m.a)("set theme"),N=Object(d.a)(O,1)[0],y=Object(d.a)(v,1)[0],P={isActive:!1,timeInterval:N.value,timePassed:0,theme:y.name},I=Object(m.b)((function(e){e(p,(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isActive:!1,timeInterval:t,timePassed:0})})),e(x,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isActive:!e.isActive})})),e(g,(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{timePassed:t})})),e(w,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isActive:!1,timePassed:0})})),e(k,(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isActive:!1,timePassed:0,theme:t})}))}),P),E=Object(l.createStore)(I,Object(f.composeWithDevTools)()),A=function(e){return e.isActive},C=function(e){return e.timeInterval},D=function(e){return e.timePassed},M=function(e){return e.theme},S=function(){var e=Object(o.c)(A),t=Object(o.c)(M),c=h(t),a=Object(i.useRef)(null);return Object(i.useEffect)((function(){a.current.load()}),[c.audio]),Object(i.useEffect)((function(){e?a.current.play():a.current.pause()}),[e]),Object(n.jsx)("audio",{ref:a,children:Object(n.jsx)("source",{src:c.audio})})},B=(c(27),function(){var e=Object(i.useRef)(null),t=Object(o.c)(A),c=Object(o.c)(M),a=h(c);return Object(i.useEffect)((function(){e.current.load()}),[a.video]),Object(i.useEffect)((function(){t?e.current.play():e.current.pause()}),[t]),Object(n.jsx)("video",{ref:e,className:"video",loop:!0,children:Object(n.jsx)("source",{src:a.video,type:"video/mp4"})})}),T=(c(28),j("intervals")),W=function(){var e=Object(o.b)();return Object(n.jsx)("div",{className:T("layout"),children:O.map((function(t){return Object(n.jsx)("button",{className:T("pick-interval"),onClick:function(){e(p(t.value))},children:t.name},t.value)}))})},F=(c(29),j("progress")),J=function(e){var t=e.value,c=e.color,i=e.children,a=453,s=216.5,r=2*Math.PI*s,o=r-t*r;return Object(n.jsxs)("div",{className:F("layout"),children:[Object(n.jsx)("svg",{className:F("base-line"),width:a,height:a,viewBox:"0 0 ".concat(a," ").concat(a),xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("circle",{cx:226.5,cy:226.5,r:s,fill:"none",strokeWidth:20,stroke:"#fff"})}),Object(n.jsx)("svg",{className:F("moving-line"),width:a,height:a,viewBox:"0 0 ".concat(a," ").concat(a),xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("circle",{cx:226.5,cy:226.5,r:s,fill:"none",strokeDasharray:r,strokeDashoffset:o,strokeWidth:20,stroke:c})}),Object(n.jsx)("div",{className:F("content"),children:i})]})},L=(c(30),function(){var e,t,c=0,n=function(){},i=!1,a=0,s=function(){return Math.floor((Date.now()-e)/1e3)},r=function(){i=!1,clearInterval(t),n({timePassed:a=0,isLast:!0})};return{setTimeInterval:function(e){c=e},setCallback:function(e){n=e},start:function(){i||(i=!0,n({timePassed:a,isFirst:0===a}),e=Date.now(),t=setInterval((function(){var e=s();n({timePassed:a+e}),a+e>=c&&r()}),200))},pause:function(){if(i){i=!1,clearInterval(t);var e=s();n({timePassed:a+=e})}},reset:r}}()),R=j("timer"),_=function(){var e,t=Object(o.c)(A),c=Object(o.c)(C),a=Object(o.c)(D),s=Object(o.c)(M),r=Object(o.b)(),u=h(s);return Object(i.useEffect)((function(){L.setTimeInterval(c)}),[c]),Object(i.useEffect)((function(){L.setCallback((function(e){var t=e.timePassed,c=e.isLast,n=void 0!==c&&c;r(g(t)),n&&r(w())}))}),[]),Object(i.useEffect)((function(){t?L.start():L.pause()}),[t]),Object(i.useEffect)((function(){0===a&&L.reset()}),[a]),Object(n.jsxs)("div",{className:R("layout"),children:[Object(n.jsx)(J,{value:a/c,color:u.color,children:Object(n.jsx)("button",{className:R("switcher",{active:t}),onClick:function(){r(x())},autoFocus:!0})}),Object(n.jsx)("div",{className:R("time"),children:(e=c-a,[e%60,e/60].reverse().map((function(e){return String(Math.floor(e)).padStart(2,"0")})).join(":"))})]})},q=(c(31),j("themes")),z=function(){var e=Object(o.b)();return Object(n.jsx)("div",{className:q("layout"),children:v.map((function(t){return Object(n.jsx)("button",{className:q("pick-theme"),style:{backgroundColor:t.color,backgroundImage:"url(".concat(t.icon,")")},onClick:function(){e(k(t.name))}},t.name)}))})},G=(c(32),j("app")),H=function(){return Object(n.jsxs)(o.a,{store:E,children:[Object(n.jsx)(S,{}),Object(n.jsx)(B,{}),Object(n.jsxs)("div",{className:G("layout"),children:[Object(n.jsx)(W,{}),Object(n.jsx)(_,{}),Object(n.jsx)(z,{})]})]})};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.59bd93f1.chunk.js.map